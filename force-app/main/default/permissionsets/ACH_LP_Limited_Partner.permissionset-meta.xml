<?xml version="1.0" encoding="UTF-8"?>
<PermissionSet xmlns="http://soap.sforce.com/2006/04/metadata">
    <description>Limited Partner (LP) - Portal user access. Read-only access to Fund information. Can only view their own Investor record, Commitment, Capital Call Lines, and Distribution Lines. Cannot see other LPs' data or fund-level capital calls/distributions.</description>
    <hasActivationRequired>false</hasActivationRequired>
    <label>ACH LP - Limited Partner (Portal)</label>
    
    <!-- Apex Class Access - LP Portal Controllers -->
    <classAccesses>
        <apexClass>ACH_LPPortalController</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>ACH_LPDataAccess</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    
    <!-- Fund Object - Read Only (High-level fund info only) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Fund__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Investor Object - Read Only (Own records only via sharing rules) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Investor__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Commitment Object - Read Only (Own records only via sharing rules) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Commitment__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Capital Call Object - Read Only (Required for line access, but LPs won't see records due to Private OWD) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Capital_Call__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Capital Call Line Object - Read Only (Own records only via sharing rules) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Capital_Call_Line__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Distribution Object - Read Only (Required for line access, but LPs won't see records due to Private OWD) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Distribution__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Distribution Line Object - Read Only (Own records only via sharing rules) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Distribution_Line__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Investment Object - No Access (Portfolio is GP/Analyst only) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>false</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Investment__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Valuation Object - No Access (Portfolio is GP/Analyst only) -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>false</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>SK_ACH_Valuation__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    
    <!-- Tab Visibility - Limited to LP-relevant tabs -->
    <!-- Note: Line items (Capital Call Line, Distribution Line) are accessed via related lists, not tabs -->
    <tabSettings>
        <tab>SK_ACH_Fund__c</tab>
        <visibility>Visible</visibility>
    </tabSettings>
    <tabSettings>
        <tab>SK_ACH_Commitment__c</tab>
        <visibility>Visible</visibility>
    </tabSettings>
    <tabSettings>
        <tab>SK_ACH_Investor__c</tab>
        <visibility>Visible</visibility>
    </tabSettings>
</PermissionSet>
